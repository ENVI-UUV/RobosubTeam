{"changed":true,"filter":false,"title":"index.html","tooltip":"/index.html","value":"<!DOCTYPE html>\n\n<html>\n\n<head>\n    <title>Example 09.07 - first person camera </title>\t\t\n    <script src=\"learn/three.js\"></script>\n    <script src=\"learn/OBJLoader.js\"></script>\n    <script src=\"learn/MTLLoader.js\"></script>\n    <script src=\"learn/OBJMTLLoader.js\"></script>\n    <script src=\"learn/FirstPersonControls.js\"></script>\n    <script src=\"learn/jquery-1.9.0.js\"></script>\n    <script src=\"learn/stats.js\"></script>\n    <script src=\"learn/dat.gui.js\"></script>\n    <script src=\"learn/chroma.js\"></script>\n\n    <style>\n        body {\n            /* set margin to 0 and overflow to hidden, to go fullscreen */\n            margin: 0;\n            overflow: hidden;\n        }\n    </style>\n</head>\n<body>\n\n<div id=\"Stats-output\">\n</div>\n<!-- Div which will hold the Output -->\n<div id=\"WebGL-output\">\n</div>\n\n<!-- Javascript code that runs our Three.js examples -->\n<script type=\"text/javascript\">\n\n    // once everything is loaded, we run our Three.js stuff.\n    function init() {\n\n\n        var clock = new THREE.Clock();\n\n        var stats = initStats();\n\n        // create a scene, that will hold all our elements such as objects, cameras and lights.\n        var scene = new THREE.Scene();\n\n        // create a camera, which defines where we're looking at.\n        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n\n        // create a render and set the size\n        var webGLRenderer = new THREE.WebGLRenderer();\n        webGLRenderer.setClearColor(new THREE.Color(0x000, 1.0));\n        webGLRenderer.setSize(window.innerWidth, window.innerHeight);\n        webGLRenderer.shadowMapEnabled = true;\n\n        // position and point the camera to the center of the scene\n        camera.position.x = 100;\n        camera.position.y = 10;\n        camera.position.z = 10;\n        camera.lookAt(new THREE.Vector3(0, 0, 0));\n\n\n        var camControls = new THREE.FirstPersonControls(camera);\n        camControls.lookSpeed = 0.4;\n        camControls.movementSpeed = 20;\n        camControls.noFly = true;\n        camControls.lookVertical = true;\n        camControls.constrainVertical = true;\n        camControls.verticalMin = 1.0;\n        camControls.verticalMax = 2.0;\n        camControls.lon = -150;\n        camControls.lat = 120;\n\n\n        var ambientLight = new THREE.AmbientLight(0x383838);\n        scene.add(ambientLight);\n\n        // add spotlight for the shadows\n        var spotLight = new THREE.SpotLight(0xffffff);\n        spotLight.position.set(100, 140, 130);\n        spotLight.intensity = 2;\n        scene.add(spotLight);\n\n        // add the output of the renderer to the html element\n        document.getElementById(\"WebGL-output\").appendChild(webGLRenderer.domElement);\n\n        // call the render function\n        var step = 0;\n\n\n        // setup the control gui\n        var controls = new function () {\n            // we need the first child, since it's a multimaterial\n\n\n        };\n\n        var gui = new dat.GUI();\n        var mesh;\n\n        var loader = new THREE.OBJMTLLoader();\n        var load = function (object) {\n            var scale = chroma.scale(['red', 'green', 'blue']);\n            setRandomColors(object, scale);\n            mesh = object;\n            scene.add(mesh);\n        };\n\n\n        var texture = THREE.ImageUtils.loadTexture('learn/metro01.JPG');\n        //texture.wrapS = texture.wrapT = THREE.MirroredRepeatWrapping;\n        loader.load('learn/city.obj', 'learn/city.mtl', load);\n        //texture.repeat.set( 1 , 1);\n\n\n        function setCamControls() {\n\n        }\n\n        render();\n\n        function setRandomColors(object, scale) {\n            var children = object.children;\n\n\n            if (children && children.length > 0) {\n                children.forEach(function (e) {\n                    setRandomColors(e, scale)\n                });\n            } else {\n                // no children assume contains a mesh\n                if (object instanceof THREE.Mesh) {\n\n                    object.material.color = new THREE.Color(scale(Math.random()).hex());\n                    if (object.material.name.indexOf(\"building\") == 0) {\n                        object.material.emissive = new THREE.Color(0x444444);\n                        object.material.transparent = true;\n                        object.material.opacity = 0.8;\n                    }\n                }\n            }\n        }\n\n\n        function render() {\n            stats.update();\n            var delta = clock.getDelta();\n\n            if (mesh) {\n                //   mesh.rotation.y+=0.006;\n            }\n\n\n            camControls.update(delta);\n            webGLRenderer.clear();\n            // render using requestAnimationFrame\n            requestAnimationFrame(render);\n            webGLRenderer.render(scene, camera)\n        }\n\n        function initStats() {\n\n            var stats = new Stats();\n            stats.setMode(0); // 0: fps, 1: ms\n\n            // Align top-left\n            stats.domElement.style.position = 'absolute';\n            stats.domElement.style.left = '0px';\n            stats.domElement.style.top = '0px';\n\n            document.getElementById(\"Stats-output\").appendChild(stats.domElement);\n\n            return stats;\n        }\n    }\n    window.onload = init;\n</script>\n</body>\n</html>\n","undoManager":{"mark":-199,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":112,"column":104},"end":{"row":112,"column":105},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":103},"end":{"row":112,"column":104},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":102},"end":{"row":112,"column":103},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":101},"end":{"row":112,"column":102},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":100},"end":{"row":112,"column":101},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":99},"end":{"row":112,"column":100},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":98},"end":{"row":112,"column":99},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":97},"end":{"row":112,"column":98},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":96},"end":{"row":112,"column":97},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":95},"end":{"row":112,"column":96},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":94},"end":{"row":112,"column":95},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":93},"end":{"row":112,"column":94},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":92},"end":{"row":112,"column":93},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":91},"end":{"row":112,"column":92},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":90},"end":{"row":112,"column":91},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":89},"end":{"row":112,"column":90},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":88},"end":{"row":112,"column":89},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":87},"end":{"row":112,"column":88},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":86},"end":{"row":112,"column":87},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":85},"end":{"row":112,"column":86},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":84},"end":{"row":112,"column":85},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":83},"end":{"row":112,"column":84},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":82},"end":{"row":112,"column":83},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":81},"end":{"row":112,"column":82},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":80},"end":{"row":112,"column":81},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":79},"end":{"row":112,"column":80},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":78},"end":{"row":112,"column":79},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":77},"end":{"row":112,"column":78},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":76},"end":{"row":112,"column":77},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":75},"end":{"row":112,"column":76},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":74},"end":{"row":112,"column":75},"action":"remove","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":73},"end":{"row":112,"column":74},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":72},"end":{"row":112,"column":73},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":71},"end":{"row":112,"column":72},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":70},"end":{"row":112,"column":71},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":69},"end":{"row":112,"column":70},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":68},"end":{"row":112,"column":69},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":67},"end":{"row":112,"column":68},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":66},"end":{"row":112,"column":67},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":65},"end":{"row":112,"column":66},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":64},"end":{"row":112,"column":65},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":63},"end":{"row":112,"column":64},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":62},"end":{"row":112,"column":63},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":61},"end":{"row":112,"column":62},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":60},"end":{"row":112,"column":61},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":59},"end":{"row":112,"column":60},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":58},"end":{"row":112,"column":59},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":57},"end":{"row":112,"column":58},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":56},"end":{"row":112,"column":57},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":55},"end":{"row":112,"column":56},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":54},"end":{"row":112,"column":55},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":53},"end":{"row":112,"column":54},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":52},"end":{"row":112,"column":53},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":51},"end":{"row":112,"column":52},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":50},"end":{"row":112,"column":51},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":49},"end":{"row":112,"column":50},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":48},"end":{"row":112,"column":49},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":47},"end":{"row":112,"column":48},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":46},"end":{"row":112,"column":47},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":45},"end":{"row":112,"column":46},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":44},"end":{"row":112,"column":45},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":43},"end":{"row":112,"column":44},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":42},"end":{"row":112,"column":43},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":41},"end":{"row":112,"column":42},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":40},"end":{"row":112,"column":41},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":39},"end":{"row":112,"column":40},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":38},"end":{"row":112,"column":39},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":37},"end":{"row":112,"column":38},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":36},"end":{"row":112,"column":37},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":35},"end":{"row":112,"column":36},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":34},"end":{"row":112,"column":35},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":33},"end":{"row":112,"column":34},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":32},"end":{"row":112,"column":33},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":31},"end":{"row":112,"column":32},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":30},"end":{"row":112,"column":31},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":29},"end":{"row":112,"column":30},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":28},"end":{"row":112,"column":29},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":27},"end":{"row":112,"column":28},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":26},"end":{"row":112,"column":27},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":24},"end":{"row":112,"column":25},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":23},"end":{"row":112,"column":24},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":22},"end":{"row":112,"column":23},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":21},"end":{"row":112,"column":22},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":21},"end":{"row":112,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":22},"end":{"row":112,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":23},"end":{"row":112,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":24},"end":{"row":112,"column":25},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":52},"end":{"row":110,"column":141},"action":"remove","lines":["https://raw.githubusercontent.com/josdirksen/learning-threejs/blob/master/assets/textures"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":52},"end":{"row":110,"column":53},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":53},"end":{"row":110,"column":54},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":54},"end":{"row":110,"column":55},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":56},"end":{"row":110,"column":57},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"insert","lines":["m"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":180,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1425987092000}