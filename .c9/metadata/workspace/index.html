{"filter":false,"title":"index.html","tooltip":"/index.html","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":112,"column":96},"end":{"row":112,"column":97},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":95},"end":{"row":112,"column":96},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":94},"end":{"row":112,"column":95},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":93},"end":{"row":112,"column":94},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":92},"end":{"row":112,"column":93},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":91},"end":{"row":112,"column":92},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":90},"end":{"row":112,"column":91},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":89},"end":{"row":112,"column":90},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":88},"end":{"row":112,"column":89},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":87},"end":{"row":112,"column":88},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":86},"end":{"row":112,"column":87},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":85},"end":{"row":112,"column":86},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":84},"end":{"row":112,"column":85},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":83},"end":{"row":112,"column":84},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":82},"end":{"row":112,"column":83},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":81},"end":{"row":112,"column":82},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":80},"end":{"row":112,"column":81},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":79},"end":{"row":112,"column":80},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":78},"end":{"row":112,"column":79},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":77},"end":{"row":112,"column":78},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":76},"end":{"row":112,"column":77},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":75},"end":{"row":112,"column":76},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":74},"end":{"row":112,"column":75},"action":"remove","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":73},"end":{"row":112,"column":74},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":72},"end":{"row":112,"column":73},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":71},"end":{"row":112,"column":72},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":70},"end":{"row":112,"column":71},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":69},"end":{"row":112,"column":70},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":68},"end":{"row":112,"column":69},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":67},"end":{"row":112,"column":68},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":66},"end":{"row":112,"column":67},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":65},"end":{"row":112,"column":66},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":64},"end":{"row":112,"column":65},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":63},"end":{"row":112,"column":64},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":62},"end":{"row":112,"column":63},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":61},"end":{"row":112,"column":62},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":60},"end":{"row":112,"column":61},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":59},"end":{"row":112,"column":60},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":58},"end":{"row":112,"column":59},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":57},"end":{"row":112,"column":58},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":56},"end":{"row":112,"column":57},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":55},"end":{"row":112,"column":56},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":54},"end":{"row":112,"column":55},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":53},"end":{"row":112,"column":54},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":52},"end":{"row":112,"column":53},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":51},"end":{"row":112,"column":52},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":50},"end":{"row":112,"column":51},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":49},"end":{"row":112,"column":50},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":48},"end":{"row":112,"column":49},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":47},"end":{"row":112,"column":48},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":46},"end":{"row":112,"column":47},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":45},"end":{"row":112,"column":46},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":44},"end":{"row":112,"column":45},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":43},"end":{"row":112,"column":44},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":42},"end":{"row":112,"column":43},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":41},"end":{"row":112,"column":42},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":40},"end":{"row":112,"column":41},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":39},"end":{"row":112,"column":40},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":38},"end":{"row":112,"column":39},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":37},"end":{"row":112,"column":38},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":36},"end":{"row":112,"column":37},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":35},"end":{"row":112,"column":36},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":34},"end":{"row":112,"column":35},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":33},"end":{"row":112,"column":34},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":32},"end":{"row":112,"column":33},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":31},"end":{"row":112,"column":32},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":30},"end":{"row":112,"column":31},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":29},"end":{"row":112,"column":30},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":28},"end":{"row":112,"column":29},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":27},"end":{"row":112,"column":28},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":26},"end":{"row":112,"column":27},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":24},"end":{"row":112,"column":25},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":23},"end":{"row":112,"column":24},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":22},"end":{"row":112,"column":23},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":21},"end":{"row":112,"column":22},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":21},"end":{"row":112,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":22},"end":{"row":112,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":23},"end":{"row":112,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":24},"end":{"row":112,"column":25},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":25},"end":{"row":112,"column":26},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":52},"end":{"row":110,"column":141},"action":"remove","lines":["https://raw.githubusercontent.com/josdirksen/learning-threejs/blob/master/assets/textures"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":52},"end":{"row":110,"column":53},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":53},"end":{"row":110,"column":54},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":54},"end":{"row":110,"column":55},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":55},"end":{"row":110,"column":56},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":56},"end":{"row":110,"column":57},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":110,"column":58},"end":{"row":110,"column":59},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""]},{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]},{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"remove","lines":["",""]},{"start":{"row":3,"column":0},"end":{"row":3,"column":1},"action":"insert","lines":[" "]},{"start":{"row":3,"column":7},"end":{"row":4,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":3,"column":8},"end":{"row":4,"column":0},"action":"insert","lines":["",""]},{"start":{"row":4,"column":53},"end":{"row":5,"column":1},"action":"remove","lines":["\t\t"," "]},{"start":{"row":4,"column":54},"end":{"row":5,"column":0},"action":"insert","lines":["",""]},{"start":{"row":5,"column":9},"end":{"row":5,"column":32},"action":"insert","lines":[" type=\"text/javascript\""]},{"start":{"row":5,"column":38},"end":{"row":5,"column":41},"action":"insert","lines":["../"]},{"start":{"row":5,"column":66},"end":{"row":6,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":5,"column":67},"end":{"row":6,"column":0},"action":"insert","lines":["",""]},{"start":{"row":6,"column":9},"end":{"row":6,"column":32},"action":"insert","lines":[" type=\"text/javascript\""]},{"start":{"row":6,"column":38},"end":{"row":6,"column":41},"action":"insert","lines":["../"]},{"start":{"row":6,"column":70},"end":{"row":6,"column":71},"action":"insert","lines":[" "]},{"start":{"row":7,"column":0},"end":{"row":7,"column":2},"action":"remove","lines":["  "]},{"start":{"row":7,"column":9},"end":{"row":7,"column":32},"action":"insert","lines":[" type=\"text/javascript\""]},{"start":{"row":7,"column":38},"end":{"row":7,"column":41},"action":"insert","lines":["../"]},{"start":{"row":7,"column":70},"end":{"row":7,"column":71},"action":"insert","lines":[" "]},{"start":{"row":8,"column":2},"end":{"row":8,"column":5},"action":"remove","lines":["  <"]},{"start":{"row":8,"column":2},"end":{"row":8,"column":25},"action":"insert","lines":["<script type=\"text/java"]},{"start":{"row":8,"column":31},"end":{"row":8,"column":32},"action":"insert","lines":["\""]},{"start":{"row":8,"column":38},"end":{"row":8,"column":41},"action":"insert","lines":["../"]},{"start":{"row":8,"column":73},"end":{"row":9,"column":1},"action":"remove","lines":[""," "]},{"start":{"row":8,"column":74},"end":{"row":9,"column":0},"action":"insert","lines":["",""]},{"start":{"row":9,"column":10},"end":{"row":10,"column":11},"action":"remove","lines":["src=\"learn/FirstPersonControls.js\"></script>","    <script"]},{"start":{"row":9,"column":10},"end":{"row":9,"column":32},"action":"insert","lines":["type=\"text/javascript\""]},{"start":{"row":9,"column":38},"end":{"row":9,"column":41},"action":"insert","lines":["../"]},{"start":{"row":9,"column":73},"end":{"row":9,"column":74},"action":"insert","lines":[" "]},{"start":{"row":10,"column":2},"end":{"row":10,"column":5},"action":"remove","lines":["  <"]},{"start":{"row":10,"column":2},"end":{"row":10,"column":25},"action":"insert","lines":["<script type=\"text/java"]},{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"insert","lines":["\""]},{"start":{"row":10,"column":38},"end":{"row":10,"column":41},"action":"insert","lines":["../"]},{"start":{"row":10,"column":66},"end":{"row":10,"column":67},"action":"insert","lines":[" "]},{"start":{"row":11,"column":2},"end":{"row":11,"column":5},"action":"remove","lines":["  <"]},{"start":{"row":11,"column":2},"end":{"row":11,"column":25},"action":"insert","lines":["<script type=\"text/java"]},{"start":{"row":11,"column":31},"end":{"row":11,"column":32},"action":"insert","lines":["\""]},{"start":{"row":11,"column":38},"end":{"row":11,"column":41},"action":"insert","lines":["../"]},{"start":{"row":11,"column":68},"end":{"row":11,"column":69},"action":"insert","lines":[" "]},{"start":{"row":12,"column":2},"end":{"row":12,"column":5},"action":"remove","lines":["  <"]},{"start":{"row":12,"column":2},"end":{"row":12,"column":25},"action":"insert","lines":["<script type=\"text/java"]},{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"insert","lines":["\""]},{"start":{"row":12,"column":38},"end":{"row":12,"column":41},"action":"insert","lines":["../"]},{"start":{"row":12,"column":67},"end":{"row":13,"column":0},"action":"remove","lines":["",""]},{"start":{"row":12,"column":67},"end":{"row":12,"column":68},"action":"insert","lines":[" "]},{"start":{"row":13,"column":2},"end":{"row":14,"column":0},"action":"insert","lines":["<script type=\"text/javascript\" src=\"../learn/FirstPersonControls.js\"></script> ",""]},{"start":{"row":20,"column":12},"end":{"row":22,"column":0},"action":"remove","lines":["","</head>",""]},{"start":{"row":20,"column":12},"end":{"row":35,"column":1},"action":"insert","lines":[" ","  <script type=\"text/javascript\">","","  var _gaq = _gaq || [];","  _gaq.push(['_setAccount', 'UA-19067049-1']);","  _gaq.push(['_trackPageview']);","","  (function() {","    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;","    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';","    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);","  })();","","</script>"," </head> "," "]},{"start":{"row":35,"column":7},"end":{"row":37,"column":0},"action":"remove","lines":["","",""]},{"start":{"row":35,"column":7},"end":{"row":36,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":36,"column":25},"end":{"row":37,"column":0},"action":"remove","lines":["",""]},{"start":{"row":36,"column":25},"end":{"row":37,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":37,"column":8},"end":{"row":38,"column":0},"action":"remove","lines":["",""]},{"start":{"row":37,"column":8},"end":{"row":38,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":38,"column":41},"end":{"row":39,"column":0},"action":"remove","lines":["",""]},{"start":{"row":38,"column":41},"end":{"row":39,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":39,"column":25},"end":{"row":40,"column":0},"action":"remove","lines":["",""]},{"start":{"row":39,"column":25},"end":{"row":40,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":40,"column":8},"end":{"row":42,"column":0},"action":"remove","lines":["","",""]},{"start":{"row":40,"column":8},"end":{"row":41,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":41,"column":58},"end":{"row":42,"column":0},"action":"remove","lines":["",""]},{"start":{"row":41,"column":58},"end":{"row":42,"column":2},"action":"insert","lines":[" ","  "]},{"start":{"row":45,"column":4},"end":{"row":45,"column":6},"action":"insert","lines":["$("]},{"start":{"row":45,"column":15},"end":{"row":45,"column":19},"action":"remove","lines":["init"]},{"start":{"row":46,"column":0},"end":{"row":47,"column":0},"action":"remove","lines":["",""]},{"start":{"row":46,"column":0},"end":{"row":46,"column":5},"action":"insert","lines":["     "]},{"start":{"row":78,"column":35},"end":{"row":78,"column":37},"action":"insert","lines":["00"]},{"start":{"row":93,"column":8},"end":{"row":93,"column":31},"action":"remove","lines":["document.getElementById"]},{"start":{"row":93,"column":8},"end":{"row":93,"column":9},"action":"insert","lines":["$"]},{"start":{"row":93,"column":11},"end":{"row":93,"column":12},"action":"insert","lines":["#"]},{"start":{"row":93,"column":33},"end":{"row":93,"column":38},"action":"remove","lines":["Child"]},{"start":{"row":102,"column":0},"end":{"row":104,"column":0},"action":"remove","lines":["","",""]},{"start":{"row":102,"column":9},"end":{"row":102,"column":10},"action":"remove","lines":[";"]},{"start":{"row":108,"column":8},"end":{"row":108,"column":12},"action":"remove","lines":["var "]},{"start":{"row":108,"column":8},"end":{"row":108,"column":33},"action":"insert","lines":["loader.addEventListener('"]},{"start":{"row":108,"column":37},"end":{"row":108,"column":39},"action":"remove","lines":[" ="]},{"start":{"row":108,"column":37},"end":{"row":108,"column":39},"action":"insert","lines":["',"]},{"start":{"row":108,"column":50},"end":{"row":108,"column":55},"action":"remove","lines":["objec"]},{"start":{"row":108,"column":50},"end":{"row":108,"column":54},"action":"insert","lines":["even"]},{"start":{"row":109,"column":0},"end":{"row":110,"column":0},"action":"insert","lines":["",""]},{"start":{"row":110,"column":16},"end":{"row":111,"column":42},"action":"remove","lines":["scale = chroma.scale(['red', 'green', 'blue']);","            setRandomColors(object, scale)"]},{"start":{"row":110,"column":16},"end":{"row":110,"column":38},"action":"insert","lines":["object = event.content"]},{"start":{"row":113,"column":9},"end":{"row":113,"column":10},"action":"insert","lines":[")"]},{"start":{"row":113,"column":11},"end":{"row":114,"column":0},"action":"remove","lines":["",""]},{"start":{"row":115,"column":8},"end":{"row":147,"column":9},"action":"remove","lines":["var texture = THREE.ImageUtils.loadTexture('learn/metro01.JPG');","        //texture.wrapS = texture.wrapT = THREE.MirroredRepeatWrapping;","        loader.load('learn/city.obj', 'learn/city.mtl', load);","        //texture.repeat.set( 1 , 1);","","","        function setCamControls() {","","        }","","        render();","","        function setRandomColors(object, scale) {","            var children = object.children;","","","            if (children && children.length > 0) {","                children.forEach(function (e) {","                    setRandomColors(e, scale)","                });","            } else {","                // no children assume contains a mesh","                if (object instanceof THREE.Mesh) {","","                    object.material.color = new THREE.Color(scale(Math.random()).hex());","                    if (object.material.name.indexOf(\"building\") == 0) {","                        object.material.emissive = new THREE.Color(0x444444);","                        object.material.transparent = true;","                        object.material.opacity = 0.8;","                    }","                }","            }","        }"]},{"start":{"row":115,"column":8},"end":{"row":117,"column":17},"action":"insert","lines":["loader.load('../obj/male02/male02.obj', '../obj/male02/male02_dds.mtl', {side: THREE.DoubleSide});","","        render();"]},{"start":{"row":146,"column":12},"end":{"row":146,"column":35},"action":"remove","lines":["document.getElementById"]},{"start":{"row":146,"column":12},"end":{"row":146,"column":13},"action":"insert","lines":["$"]},{"start":{"row":146,"column":15},"end":{"row":146,"column":16},"action":"insert","lines":["#"]},{"start":{"row":146,"column":37},"end":{"row":146,"column":42},"action":"remove","lines":["Child"]},{"start":{"row":150,"column":5},"end":{"row":151,"column":25},"action":"remove","lines":["","    window.onload = init;"]},{"start":{"row":150,"column":5},"end":{"row":152,"column":0},"action":"insert","lines":[");","",""]},{"start":{"row":153,"column":9},"end":{"row":154,"column":0},"action":"remove","lines":["",""]},{"start":{"row":153,"column":9},"end":{"row":154,"column":1},"action":"insert","lines":["  "," "]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":0},"end":{"row":115,"column":2},"action":"insert","lines":["//"]},{"start":{"row":115,"column":108},"end":{"row":116,"column":88},"action":"insert","lines":["","        loader.load('../obj/dante/001.obj', '../obj/001.mtl', {side: THREE.DoubleSide});"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":52},"end":{"row":116,"column":58},"action":"insert","lines":["dante/"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":0},"end":{"row":116,"column":2},"action":"insert","lines":["//"]},{"start":{"row":116,"column":63},"end":{"row":118,"column":95},"action":"insert","lines":[".mtl', {side: THREE.DoubleSide});","//        loader.load('../obj/gate/Gate.obj', '../obj/gate/Gate.mtl', {side: THREE.DoubleSide});","        loader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test"]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":0},"end":{"row":117,"column":2},"action":"remove","lines":["//"]},{"start":{"row":117,"column":61},"end":{"row":118,"column":95},"action":"remove","lines":[".mtl', {side: THREE.DoubleSide});","        loader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test"]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":28},"end":{"row":65,"column":30},"action":"remove","lines":["10"]},{"start":{"row":65,"column":30},"end":{"row":65,"column":62},"action":"insert","lines":["//pool line of symetry is x axis"]},{"start":{"row":66,"column":29},"end":{"row":66,"column":31},"action":"remove","lines":["0;"]},{"start":{"row":66,"column":29},"end":{"row":66,"column":44},"action":"insert","lines":["2;//water depth"]},{"start":{"row":67,"column":28},"end":{"row":67,"column":31},"action":"remove","lines":["10;"]},{"start":{"row":67,"column":28},"end":{"row":67,"column":63},"action":"insert","lines":["-28;//how close to the wall are you"]},{"start":{"row":72,"column":34},"end":{"row":72,"column":36},"action":"remove","lines":["4;"]},{"start":{"row":72,"column":34},"end":{"row":72,"column":65},"action":"insert","lines":["2; //Pitch Thrust to drag ratio"]},{"start":{"row":73,"column":36},"end":{"row":73,"column":39},"action":"remove","lines":["20;"]},{"start":{"row":73,"column":36},"end":{"row":73,"column":72},"action":"insert","lines":["1; // FWD BKWD Thrust to drag ratio "]},{"start":{"row":74,"column":33},"end":{"row":74,"column":39},"action":"insert","lines":[" //IDK"]},{"start":{"row":75,"column":40},"end":{"row":75,"column":46},"action":"insert","lines":[" //IDK"]},{"start":{"row":76,"column":45},"end":{"row":76,"column":51},"action":"insert","lines":[" //IDK"]},{"start":{"row":77,"column":38},"end":{"row":77,"column":61},"action":"insert","lines":[" //basement floor level"]},{"start":{"row":78,"column":40},"end":{"row":78,"column":60},"action":"insert","lines":[" //sky ceiling level"]},{"start":{"row":79,"column":26},"end":{"row":79,"column":31},"action":"remove","lines":["-150;"]},{"start":{"row":79,"column":26},"end":{"row":79,"column":47},"action":"insert","lines":["80; // initial pitch "]},{"start":{"row":80,"column":26},"end":{"row":80,"column":30},"action":"remove","lines":["120;"]},{"start":{"row":80,"column":26},"end":{"row":80,"column":43},"action":"insert","lines":["270;//initial pan"]},{"start":{"row":117,"column":0},"end":{"row":117,"column":2},"action":"insert","lines":["//"]},{"start":{"row":117,"column":96},"end":{"row":118,"column":128},"action":"insert","lines":["","        loader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test.mtl', {side: THREE.DoubleSide});"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":45},"action":"remove","lines":["Example 09.07 - first person camera "]},{"start":{"row":4,"column":9},"end":{"row":4,"column":35},"action":"insert","lines":["SimBox - Robosub Simulator"]},{"start":{"row":52,"column":38},"end":{"row":53,"column":58},"action":"insert","lines":["","        scene.fog = new THREE.FogExp2( 0x008080, 0.1875 );"]},{"start":{"row":73,"column":34},"end":{"row":73,"column":35},"action":"remove","lines":["2"]},{"start":{"row":73,"column":34},"end":{"row":73,"column":36},"action":"insert","lines":["05"]},{"start":{"row":74,"column":36},"end":{"row":74,"column":37},"action":"remove","lines":["1"]},{"start":{"row":74,"column":36},"end":{"row":74,"column":40},"action":"insert","lines":["0.25"]},{"start":{"row":79,"column":34},"end":{"row":79,"column":37},"action":"remove","lines":["200"]},{"start":{"row":79,"column":34},"end":{"row":79,"column":37},"action":"insert","lines":["175"]},{"start":{"row":91,"column":29},"end":{"row":95,"column":27},"action":"insert","lines":["","        ","        var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );","        light.position.set( - 1, 1, - 1 );","        scene.add( light );"]},{"start":{"row":124,"column":0},"end":{"row":124,"column":130},"action":"insert","lines":["        loader.load('../obj/robosub obstacles/obstacles.obj', '../obj/robosub obstacles/obstacles.mtl', {side: THREE.DoubleSide});"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":162,"column":1},"action":"remove","lines":[">"," <head> ","  <title>SimBox - Robosub Simulator</title> ","  <script type=\"text/javascript\" src=\"../learn/three.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/OBJLoader.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/MTLLoader.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/OBJMTLLoader.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/jquery-1.9.0.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/stats.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/dat.gui.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/chroma.js\"></script> ","  <script type=\"text/javascript\" src=\"../learn/FirstPersonControls.js\"></script> ","  <style>","        body {","            /* set margin to 0 and overflow to hidden, to go fullscreen */","            margin: 0;","            overflow: hidden;","        }","    </style> ","  <script type=\"text/javascript\">","","  var _gaq = _gaq || [];","  _gaq.push(['_setAccount', 'UA-19067049-1']);","  _gaq.push(['_trackPageview']);","","  (function() {","    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;","    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';","    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);","  })();","","</script>"," </head> "," <body> ","  <div id=\"Stats-output\"> ","  </div> ","  <!-- Div which will hold the Output --> ","  <div id=\"WebGL-output\"> ","  </div> ","  <!-- Javascript code that runs our Three.js examples --> ","  <script type=\"text/javascript\">","","    // once everything is loaded, we run our Three.js stuff.","    $(function () {","     ","        var clock = new THREE.Clock();","","        var stats = initStats();","","        // create a scene, that will hold all our elements such as objects, cameras and lights.","        var scene = new THREE.Scene();","        scene.fog = new THREE.FogExp2( 0x008080, 0.1875 );","","        // create a camera, which defines where we're looking at.","        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);","","","        // create a render and set the size","        var webGLRenderer = new THREE.WebGLRenderer();","        webGLRenderer.setClearColor(new THREE.Color(0x000, 1.0));","        webGLRenderer.setSize(window.innerWidth, window.innerHeight);","        webGLRenderer.shadowMapEnabled = true;","","        // position and point the camera to the center of the scene","        camera.position.x = 0;//pool line of symetry is x axis","        camera.position.y = 12;//water depth","        camera.position.z = -28;//how close to the wall are you","        camera.lookAt(new THREE.Vector3(0, 0, 0));","","","        var camControls = new THREE.FirstPersonControls(camera);","        camControls.lookSpeed = 0.05; //Pitch Thrust to drag ratio","        camControls.movementSpeed = 0.25; // FWD BKWD Thrust to drag ratio ","        camControls.noFly = true; //IDK","        camControls.lookVertical = true; //IDK","        camControls.constrainVertical = true; //IDK","        camControls.verticalMin = 1.0; //basement floor level","        camControls.verticalMax = 175.0; //sky ceiling level","        camControls.lon = 80; // initial pitch ","        camControls.lat = 270;//initial pan","","","        var ambientLight = new THREE.AmbientLight(0x383838);","        scene.add(ambientLight);","","        // add spotlight for the shadows","        var spotLight = new THREE.SpotLight(0xffffff);","        spotLight.position.set(100, 140, 130);","        spotLight.intensity = 2;","        scene.add(spotLight);","        ","        var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );","        light.position.set( - 1, 1, - 1 );","        scene.add( light );","","        // add the output of the renderer to the html element","        $(\"#WebGL-output\").append(webGLRenderer.domElement);","","        // call the render function","        var step = 0;","","","        // setup the control gui","        var controls = new function () {","            // we need the first child, since it's a multimaterial","        }","","        var gui = new dat.GUI();","        var mesh;","","        var loader = new THREE.OBJMTLLoader();","        loader.addEventListener('load', function (event) {","","            var object = event.content;","            mesh = object;","            scene.add(mesh);","        });","","//        loader.load('../obj/male02/male02.obj', '../obj/male02/male02_dds.mtl', {side: THREE.DoubleSide});","//        loader.load('../obj/dante/001.obj', '../obj/dante/001.mtl', {side: THREE.DoubleSide});","//        loader.load('../obj/gate/Gate.obj', '../obj/gate/Gate.mtl', {side: THREE.DoubleSide});","        loader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test.mtl', {side: THREE.DoubleSide});","        loader.load('../obj/robosub obstacles/obstacles.obj', '../obj/robosub obstacles/obstacles.mtl', {side: THREE.DoubleSide});","        render();","","","        function render() {","            stats.update();","            var delta = clock.getDelta();","","            if (mesh) {","                //   mesh.rotation.y+=0.006;","            }","","","            camControls.update(delta);","            webGLRenderer.clear();","            // render using requestAnimationFrame","            requestAnimationFrame(render);","            webGLRenderer.render(scene, camera)","        }","","        function initStats() {","","            var stats = new Stats();","            stats.setMode(0); // 0: fps, 1: ms","","            // Align top-left","            stats.domElement.style.position = 'absolute';","            stats.domElement.style.left = '0px';","            stats.domElement.style.top = '0px';","","            $(\"#Stats-output\").append(stats.domElement);","","            return stats;","        }","    });","","","</script>  "," "]},{"start":{"row":2,"column":5},"end":{"row":370,"column":1},"action":"insert","lines":[" lang=\"en\">","\t<head>","\t\t<title>SimBox - Robosub Simulator</title>","\t\t<meta charset=\"utf-8\">","\t\t<meta name=\"viewport\" content=\"width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0\">","\t\t<style>","\t\t\tbody {","\t\t\t\tcolor: #000;","\t\t\t\tfont-family:Monospace;","\t\t\t\tfont-size:13px;","\t\t\t\tmargin: 0px;","\t\t\t\toverflow: hidden;","\t\t\t}","","\t\t\t#info {","\t\t\t\tposition: absolute;","\t\t\t\ttop: 0px; width: 100%;","\t\t\t\ttext-align:center;","\t\t\t\tpadding: 5px;","\t\t\t}","\t\t\t","\t\t\t#inset  {","\t\t\t\twidth: 200px;","\t\t\t\theight: 200px;","\t\t\t\tbackground-color: #fff; /* or transparent; will show through only if renderer alpha: true */","\t\t\t\tborder: 1px solid black; /* or none; */","\t\t\t\tmargin: 20px;","\t\t\t\tpadding: 0px;","\t\t\t\tposition: absolute;","\t\t\t\tleft: 0px;","\t\t\t\tbottom: 0px;","    \t\t\t\tz-index: 100;","\t\t\t}","","\t\t\ta {","","\t\t\t\tcolor: #000000;","\t\t\t}","","\t\t</style>","\t</head>","\t<body>","","\t\t<div id=\"info\"><a href=\"https://github.com/cantren/cantren.github.io/\" target=\"_blank\">Code</a></a> - Please \"fork\" as this page changes often.</div>","\t\t<div id=\"container\">","\t\t<div id=\"inset\">","\t\t<script src=\"../js/three.min.js\"></script>","","\t\t<script src=\"../js/FirstPersonControls.js\"></script>","\t\t<script src=\"../js/Mirror.js\"></script>","\t\t<script src=\"../js/WaterShader.js\"></script>","","\t\t<script src=\"../js/Detector.js\"></script>","\t\t<script src=\"../js/stats.min.js\"></script>","","\t\t<script src=\"js/MTLLoader.js\"></script>","\t\t<script src=\"js/OBJMTLLoader.js\"></script>","  ","\t\t<script>","","\t\t\tif ( ! Detector.webgl ) {","","\t\t\t\tDetector.addGetWebGLMessage();","\t\t\t\tdocument.getElementById( 'container' ).innerHTML = \"\";","","\t\t\t}","","\t\t\tvar container, container2, stats;//cargo cult code comment out this line please(may be desired in future)","\t\t\tvar camera, camera2, camControls, camControls2, scene, scene2, renderer, renderer2;//these are actually usefull","\t\t\tvar sphere;//cargo cult code delete this line please","\t\t\tvar CANVAS_WIDTH = 200,","\t\t\t    CANVAS_HEIGHT = 200,","\t\t\t    CAM_DISTANCE = 300;","\t\t\t","\t\t\t","\t\t\tvar clock = new THREE.Clock();//I spent a long time debugging because I forgot to initialize this","\t\t\t","\t\t\tvar parameters = {","\t\t\t\twidth: 2000,","\t\t\t\theight: 2000,","\t\t\t\twidthSegments: 250,","\t\t\t\theightSegments: 250,","\t\t\t\tdepth: 1500,","\t\t\t\tparam: 4,","\t\t\t\tfilterparam: 1","\t\t\t}","\t\t\t","\t\t\tvar waterNormals;","","\t\t\tinit();","\t\t\tanimate();","","\t\t\tfunction init() {","","\t\t\t\tcontainer = document.createElement( 'div' );","\t\t\t\tdocument.body.appendChild( container );","\t\t\t\t","\t\t\t\trenderer = new THREE.WebGLRenderer();","\t\t\t\trenderer.setPixelRatio( window.devicePixelRatio );","\t\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );","\t\t\t\tcontainer.appendChild( renderer.domElement );","","","\t\t\t\tcontainer2 = document.getElementById('inset');","\t\t\t\t// renderer","\t\t\t\trenderer2 = new THREE.WebGLRenderer();","\t\t\t\trenderer2.setClearColor( 0xf0f0f0, 1 );","\t\t\t\trenderer2.setSize( CANVAS_WIDTH, CANVAS_HEIGHT );","\t\t\t\tcontainer2.appendChild( renderer2.domElement );","","","\t\t\t\tscene = new THREE.Scene();","\t\t\t\tscene2 = new THREE.Scene();","\t\t\t\t","\t\t\t\t//add water colored fog","\t\t\t\t//scene.fog = new THREE.FogExp2( 0x008080, 0.1875 );","\t\t\t\tscene.fog = new THREE.FogExp2( 0x008080, 0.1375 );","\t\t\t\tscene2.fog = new THREE.FogExp2( 0x008080, 0.1875 );","\t\t\t\t","\t\t\t\tcamera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.5, 3000000);","\t\t\t\t","\t\t\t\tcamera.position.x = 0;//pool line of symetry is x axis","        \t\t\tcamera.position.y = -2;//water depth","\t\t\t        camera.position.z = -28;//how close to the wall are you","\t\t\t        ","\t\t\t        camera2 = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.5, 3000000);","\t\t\t        camera2.up = camera.up; // important!","\t\t\t        ","\t\t\t        camera2.position.x = 0;//pool line of symetry is x axis","        \t\t\tcamera2.position.y = -2;//water depth","\t\t\t        camera2.position.z = -28;//how close to the wall are you","\t\t\t\t//camera.position.set( 0, -2, -28 );","        \t\t\t","        \t\t\tcamControls = new THREE.FirstPersonControls( camera );","        \t\t\tcamControls.lookSpeed = 0.05; //Pitch Thrust to drag ratio","        \t\t\tcamControls.movementSpeed = 0.25; // FWD BKWD Thrust to drag ratio ","        \t\t\tcamControls.verticalMin = -100.0; //basement floor level","        \t\t\tcamControls.verticalMax = 50.0; //sky ceiling level","        \t\t\t","        \t\t\tcamControls2 = new THREE.FirstPersonControls( camera2 );","        \t\t\tcamControls2.lookSpeed = 0.05; //Pitch Thrust to drag ratio","        \t\t\tcamControls2.movementSpeed = 0.25; // FWD BKWD Thrust to drag ratio ","        \t\t\tcamControls2.verticalMin = -100.0; //basement floor level","        \t\t\tcamControls2.verticalMax = 50.0; //sky ceiling level","        \t\t\t","        \t\t\t","\t\t\t\t//Add scene lighting","\t\t\t\tvar light = new THREE.HemisphereLight( 0xffffbb, 0x008080, 1 );//I tried changing the light color here to see what would happen","\t\t\t\tlight.position.set( - 1, 1, - 1 ); //my hemisphere flipped upside down","\t\t\t\tscene.add( light );//I changed the name to distinguish a negative y value from \"sunlight\"","","\t\t\t\tvar light2 = new THREE.HemisphereLight( 0xffffbb, 0x008080, 1 );//I tried changing the light color here to see what would happen","\t\t\t\tlight2.position.set( - 1, 1, - 1 ); //my hemisphere flipped upside down","\t\t\t\tscene2.add( light2 );//I changed the name to distinguish a negative y value from \"sunlight\"","\t\t\t\t","\t\t\t\t//More scene lighting","\t\t\t\tvar ambientLight = new THREE.AmbientLight(0x383838);","        \t\t\tscene.add(ambientLight);","        \t\t\t","        \t\t\tvar ambientLight2 = new THREE.AmbientLight(0x383838);","\t\t\t\tscene2.add(ambientLight2);","\t\t\t\t","        \t\t\t// add spotlight for the shadows","        \t\t\tvar spotLight = new THREE.SpotLight(0xffffff);","        \t\t\tspotLight.position.set(100, 140, 130);","        \t\t\tspotLight.intensity = 2;","        \t\t\tscene.add(spotLight);","        \t\t\t","        \t\t\tvar spotLight2 = new THREE.SpotLight(0xffffff);","        \t\t\tspotLight2.position.set(100, 140, 130);","        \t\t\tspotLight2.intensity = 2;","        \t\t\tscene2.add(spotLight2);","","","\t\t\t\t//load and insert the obj meshes and mtl textures","\t\t\t\t//the \"secret sauce\" is in these .obj and .mtl files.","\t\t\t\tvar loader = new THREE.OBJMTLLoader(); //this object does the work","\t\t\t\tloader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test.mtl', function ( object ) {","\t\t\t\t\tobject.position.y = -12.975;//experimentally generated via trial and error","\t\t\t\t\tscene.add( object );//to make a Robosub you would likely need to change it's name from \"object\"","\t\t\t\t\t});","        \t\t\tloader.load('../obj/robosub obstacles/obstacles.obj', '../obj/robosub obstacles/obstacles.mtl', function ( object ) {","\t\t\t\t\tobject.position.y = -12.975;//experimentally generated via trial and error","\t\t\t\t\tscene.add( object );//to make a Robosub you would likely need to change it's name from \"object\"","\t\t\t\t\t});","\t\t\t\tloader.load('../obj/transdec OBJ/transdec test.obj', '../obj/transdec OBJ/transdec test.mtl', function ( object ) {","\t\t\t\t\tobject.position.y = -12.975;//experimentally generated via trial and error","\t\t\t\t\tscene2.add( object );//to make a Robosub you would likely need to change it's name from \"object\"","\t\t\t\t\t});","        \t\t\tloader.load('../obj/robosub obstacles/obstacles.obj', '../obj/robosub obstacles/obstacles.mtl', function ( object ) {","\t\t\t\t\tobject.position.y = -12.975;//experimentally generated via trial and error","\t\t\t\t\tscene2.add( object );//to make a Robosub you would likely need to change it's name from \"object\"","\t\t\t\t\t});","","\t\t\t\twaterNormals = new THREE.ImageUtils.loadTexture( 'textures/waternormals.jpg' ); //potential for easy modification/obstacle reflections","\t\t\t\twaterNormals.wrapS = waterNormals.wrapT = THREE.RepeatWrapping; //recycle that .jpg like a TV re-run","\t\t\t\t//initialize/declare water shader and provide parameters","\t\t\t\twater = new THREE.Water( renderer, camera, scene, { //three.js has a specific thing for water, this is it","\t\t\t\t\ttextureWidth: 512, //size of waves I think, maybe the waternormals.jpg stretch?","\t\t\t\t\ttextureHeight: 512, //size of waves I think, maybe the waternormals.jpg stretch?","\t\t\t\t\twaterNormals: waterNormals, //provides the .jpg Texture","\t\t\t\t\talpha: \t1.0, //how transparent is the water?","\t\t\t\t\t//sunDirection: new THREE.Vector3( 0.70707, -0.70707, 0 ), ","\t\t\t\t\tsunDirection: light.position.clone().normalize(), // I think this makes the reflection normal to the texture","\t\t\t\t\tsunColor: 0xffffff, //Light has to hit the water, what color is it?","\t\t\t\t\twaterColor: 0xe7e7ec,//,0x000000,//0x001e0f,//0xe7e7ec,//0x001e0f,//water color for different effects","\t\t\t\t\tdistortionScale: 50.0, //also related to size of waves?","\t\t\t\t});","","\t\t\t\t//initialize/declare new planes for holding the \"water\" texture mapping","\t\t\t\tmirrorMesh = new THREE.Mesh(","\t\t\t\t\tnew THREE.PlaneBufferGeometry( parameters.width * 500, parameters.height * 500 ),","\t\t\t\t\twater.material","\t\t\t\t);","\t\t\t\tmirrorMesh2 = new THREE.Mesh(","\t\t\t\t\tnew THREE.PlaneBufferGeometry( parameters.width * 500, parameters.height * 500 ),","\t\t\t\t\twater.material","\t\t\t\t);","","\t\t\t\tmirrorMesh.add( water ); //add water shader to otherwise boring underwater PlaneBufferGeometry","\t\t\t\tmirrorMesh2.add( water ); //add water shader to otherwise boring PlaneBufferGeometry","\t\t\t\tmirrorMesh.rotation.x = - Math.PI * 1.5; //rotate undwater water surface to point down","\t\t\t\tmirrorMesh2.rotation.x = - Math.PI * 0.5; //rotate water surface to point up","\t\t\t\tscene.add( mirrorMesh ); //add underwater water surface","\t\t\t\tscene.add( mirrorMesh2); //add water surface ","","\t\t\t\t// load skybox &/or (start example code copypasta: http://threejs.org/examples/#webgl_shaders_ocean)","\t\t\t\tvar cubeMap = new THREE.CubeTexture( [] );//initialize/declare the texture object to be mapped to the skybox mesh var skyBox = new THREE.Mesh","\t\t\t\tcubeMap.format = THREE.RGBFormat;//don't know or care","\t\t\t\tcubeMap.flipY = false;//if you make this true the walls of the box go below the horizon","","\t\t\t\t//var cubeMap2 = new THREE.CubeTexture( [] );//initialize/declare the texture object to be mapped to the skybox mesh var skyBox = new THREE.Mesh","\t\t\t\t//cubeMap2.format = THREE.RGBFormat;//don't know or care","\t\t\t\t//cubeMap2.flipY = true;//if you make this true the walls of the box go below the horizon","","\t\t\t\tvar loader = new THREE.ImageLoader();","\t\t\t\tloader.load( '../textures/skyboxsun25degtest.png', function ( image ) {","","\t\t\t\t\tvar getSide = function ( x, y ) {","","\t\t\t\t\t\tvar size = 1024;","","\t\t\t\t\t\tvar canvas = document.createElement( 'canvas' );","\t\t\t\t\t\tcanvas.width = size;","\t\t\t\t\t\tcanvas.height = size;","","\t\t\t\t\t\tvar context = canvas.getContext( '2d' );","\t\t\t\t\t\tcontext.drawImage( image, - x * size, - y * size );","","\t\t\t\t\t\treturn canvas;","","\t\t\t\t\t};","","\t\t\t\t\tcubeMap.images[ 0 ] = getSide( 2, 1 ); // px","\t\t\t\t\tcubeMap.images[ 1 ] = getSide( 0, 1 ); // nx","\t\t\t\t\tcubeMap.images[ 2 ] = getSide( 1, 0 ); // py","\t\t\t\t\tcubeMap.images[ 3 ] = getSide( 1, 2 ); // ny","\t\t\t\t\tcubeMap.images[ 4 ] = getSide( 1, 1 ); // pz","\t\t\t\t\tcubeMap.images[ 5 ] = getSide( 3, 1 ); // nz","\t\t\t\t\tcubeMap.needsUpdate = true;","","\t\t\t\t} );","\t\t\t\t","\t\t\t\t//var loader2 = new THREE.ImageLoader();","\t\t\t\t//loader2.load( '../textures/skyboxsun25degtest.png', function ( image2 ) {","","","\t\t\t\t//\tvar getSide = function ( x, y ) {","","//\t\t\t\t\t\tvar size = 1024;","","//\t\t\t\t\t\tvar canvas2 = document.createElement( 'canvas2' );","//\t\t\t\t\t\tcanvas2.width = size;","//\t\t\t\t\t\tcanvas2.height = size;","","//\t\t\t\t\t\tvar context2 = canvas2.getContext( '2d' );","//\t\t\t\t\t\tcontext2.drawImage( image2, - x * size, - y * size );","","//\t\t\t\t\t\treturn canvas2;","","//\t\t\t\t\t};","","//\t\t\t\t\tcubeMap2.images[ 0 ] = getSide( 2, 1 ); // px","//\t\t\t\t\tcubeMap2.images[ 1 ] = getSide( 0, 1 ); // nx","//\t\t\t\t\tcubeMap2.images[ 2 ] = getSide( 1, 0 ); // py","//\t\t\t\t\tcubeMap2.images[ 3 ] = getSide( 1, 2 ); // ny","//\t\t\t\t\tcubeMap2.images[ 4 ] = getSide( 1, 1 ); // pz","//\t\t\t\t\tcubeMap2.images[ 5 ] = getSide( 3, 1 ); // nz","//\t\t\t\t\tcubeMap2.needsUpdate = true;","","//\t\t\t\t} );","\t\t\t\t//Initialize/declare the shader for the skybox","\t\t\t\tvar cubeShader = THREE.ShaderLib['cube'];","\t\t\t\tcubeShader.uniforms['tCube'].value = cubeMap;","\t\t\t\t","//\t\t\t\tvar cubeShader2 = THREE.ShaderLib['cube'];","//\t\t\t\tcubeShader2.uniforms['tCube'].value = cubeMap2;","\t\t\t\t","\t\t\t\t//Create skybox material ","\t\t\t\tvar skyBoxMaterial = new THREE.ShaderMaterial( {","\t\t\t\t\tfragmentShader: cubeShader.fragmentShader,","\t\t\t\t\tvertexShader: cubeShader.vertexShader,","\t\t\t\t\tuniforms: cubeShader.uniforms,","\t\t\t\t\tdepthWrite: false,","\t\t\t\t\tside: THREE.BackSide","\t\t\t\t});","//\t\t\t\tvar skyBoxMaterial2 = new THREE.ShaderMaterial( {","//\t\t\t\t\tfragmentShader: cubeShader2.fragmentShader,","//\t\t\t\t\tvertexShader: cubeShader2.vertexShader,","//\t\t\t\t\tuniforms: cubeShader2.uniforms,","//\t\t\t\t\tdepthWrite: false,","//\t\t\t\t\tside: THREE.BackSide","//\t\t\t\t});","","\t\t\t\t//Create Mesh to map skybox material on to","\t\t\t\tvar skyBox = new THREE.Mesh(","\t\t\t\t\tnew THREE.BoxGeometry( 10000, 10000, 10000 ),","\t\t\t\t\tskyBoxMaterial","\t\t\t\t);","\t\t\t\tscene.add( skyBox ); //create Point Loma Sky","","//\t\t\t\tvar skyBox2 = new THREE.Mesh(","//\t\t\t\t\tnew THREE.BoxGeometry( 10000, 10000, 10000 ),","//\t\t\t\t\tskyBoxMaterial2","//\t\t\t\t);","","\t\t\t\t//var skyBox2 = new THREE.Mesh(","\t\t\t\t//\tnew THREE.BoxGeometry( 10000, -10000, 10000 ),","\t\t\t\t//\tskyBoxMaterial","\t\t\t\t//);","//\t\t\t\tscene.add( skyBox2 );","","","\t\t\t}","","\t\t\t//","","\t\t\tfunction animate() {","","\t\t\t\trequestAnimationFrame( animate ); //animate the frame","\t\t\t\trender(); //render the frame","","\t\t\t}","","\t\t\tfunction render() {","\t\t\t\t","\t\t\t\tcamControls.update( clock.getDelta() ); //update First Person Camera","\t\t\t\tcamControls2.update( clock.getDelta() ); //update First Person Camera","\t\t\t\tcamera2.position.copy( camera.position );","\t\t\t\tcamera2.rotation.copy( camera.rotation );","\t\t\t\tcamera2.up = new THREE.Vector3(-1,-1,-1);","\t\t\t\tcamera2.rotateX(Math.PI/-2);","\t\t\t\tcamera2.rotateZ((Math.PI/-2));","\t\t\t\t//camera2.rotateY(Math.PI/-1);","\t\t\t\t//camera2.up = new THREE.Vector3(0,-1,0);","\t\t\t\t//camera2.lookAt(new THREE.Vector3(-1, -1, -1));","\t\t\t\t//camera2.rotation.y = Math.PI;","\t\t\t\tcamera2.rotateZ(Math.PI/2);","\t\t\t\tvar time = performance.now() * 0.001; //Measure time for water","\t\t\t\twater.material.uniforms.time.value += 1.0 / 60.0; //speed of water motion(wind chop)","","\t\t\t\twater.render(); //render water surface","\t\t\t\trenderer.render( scene, camera ); //render everything else","\t\t\t\trenderer2.render( scene2, camera2 );","","\t\t\t}","","\t\t</script>","\t"]}]}]]},"ace":{"folds":[],"scrolltop":857.5,"scrollleft":0,"selection":{"start":{"row":2,"column":5},"end":{"row":2,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":64,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1426185965000,"hash":"9d5b313019b90fd53793a421d1c311ecdd20b0c6"}